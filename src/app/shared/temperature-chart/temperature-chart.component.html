<div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
  <!-- Header -->
  <div class="flex items-center justify-between px-5 py-4 border-b border-gray-100">
    <h3 class="text-lg font-semibold text-gray-900">{{ data.chart.title }}</h3>
    <button class="p-1 hover:bg-gray-100 rounded-lg">
      <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 24 24">
        <circle cx="12" cy="5" r="2"/>
        <circle cx="12" cy="12" r="2"/>
        <circle cx="12" cy="19" r="2"/>
      </svg>
    </button>
  </div>

  <!-- Legend -->
  <div class="px-5 py-3 flex flex-wrap items-center gap-4 border-b border-gray-100 bg-gray-50">
    @for (item of data.legend; track item.id) {
      <div class="flex items-center gap-2">
        @if (item.type === 'zone') {
          <span class="w-4 h-3 rounded-sm" [style.backgroundColor]="item.color"></span>
        } @else if (item.type === 'marker') {
          <span class="w-3 h-3 rounded-full" [style.backgroundColor]="item.color"></span>
        } @else {
          <span class="w-3 h-3 rounded-full" [style.backgroundColor]="item.color"></span>
        }
        <span class="text-sm text-gray-700">
          {{ item.label }}@if (item.currentValue !== undefined) {: {{ item.currentValue }}{{ data.chart.unit }}}
        </span>
      </div>
    }
  </div>

  <!-- Chart -->
  <div class="p-5">
    <div class="chart-container w-full" style="min-height: 420px;"></div>
  </div>
</div>
