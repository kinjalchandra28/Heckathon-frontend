<div class="container">
    <div class="flow-diagram">

        <app-diagram-viewer [modules]="modules" (deletedModule)="onDeletedModule($event)"
            (selectedModule)="onSelectedModule($event)">
            <!-- (removeNodeAction)="onDeleteNode($event)" -->

        </app-diagram-viewer>
        {{selectedModule() && isConfigPanelOpen}}
    </div>
    <!-- @if(true) { -->
    @if(isConfigPanelOpen() && selectedModule( )) {
        <div class="properties-panel">
            <app-property-config-panel 
                [module]="selectedModule()"
                [agent]="agent()"
                (labelChange)="onLabelChange($event)" 
                (descriptionChange)="onDescriptionChange($event)"
                (parameterChange)="onParameterChange($event)" 
                (positionChange)="onPositionChange($event)"
                (deleteNode)="onDeleteNode($event)" 
                (closePanel)="onClosePanel()">
            </app-property-config-panel>
        </div>
    }
</div>